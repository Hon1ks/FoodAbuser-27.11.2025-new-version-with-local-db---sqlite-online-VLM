# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YOLOv8 –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –µ–¥—ã

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 03.12.2025  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 03.12.2025  
**–í–µ—Ä—Å–∏—è:** 2.1 (MVP)  
**–°—Ç–∞—Ç—É—Å:** ‚è≥ MVP –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é (–º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è YOLOv8 –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –µ–¥—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á–µ—Ç–æ–º –ö–ë–ñ–£.

**MVP –°—Ç–∞—Ç—É—Å:**
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ YoloFoodService –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –ö–ë–ñ–£ (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- ‚úÖ –§–∏–ª—å—Ç—Ä food-related –∫–ª–∞—Å—Å–æ–≤ (78 –∏–∑ 601)
- ‚úÖ –†—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (100+ –º–∞–ø–ø–∏–Ω–≥–æ–≤)
- ‚ö†Ô∏è –ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ (Metro bundler limitation)
- ‚úÖ Fallback –Ω–∞ AIService –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–î–ª—è Production:**
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏—è –¥–ª—è –ù–ê–°–¢–û–Ø–©–ï–ô –æ—Ñ—Ñ–ª–∞–π–Ω –º–æ–¥–µ–ª–∏" –Ω–∏–∂–µ).

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **YoloFoodService.js** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ YOLOv8
   - Preprocessing –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (resize 640x640, normalize)
   - Inference —Å –º–æ–¥–µ–ª—å—é
   - Post-processing (NMS, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
   - –û—Ü–µ–Ω–∫–∞ –≤–µ—Å–∞ –ø–æ—Ä—Ü–∏–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É bbox
   - –ú–∞–ø–ø–∏–Ω–≥ –ö–ë–ñ–£ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

2. **AddMealScreen.js** - UI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–æ—Ç–æ
   - –ö–Ω–æ–ø–∫–∏ "–§–æ—Ç–æ" –∏ "–ì–∞–ª–µ—Ä–µ—è" –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ö–Ω–æ–ø–∫–∞ "–ê–Ω–∞–ª–∏–∑" –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ —Ñ–æ—Ç–æ (—Ç–æ–ª—å–∫–æ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é)
   - –ü—Ä–µ–ª–æ–∞–¥–µ—Ä –≤–æ –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –ö–ë–ñ–£

3. **food_kbzu.json** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ö–ë–ñ–£
   - 100+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å —Ç–æ—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–∞–ª–æ—Ä–∏–π, –±–µ–ª–∫–æ–≤, –∂–∏—Ä–æ–≤, —É–≥–ª–µ–≤–æ–¥–æ–≤
   - –§–æ—Ä–º–∞—Ç: `{ "product_name": { "calories": 130, "protein": 7.2, "fat": 0.8, "carbs": 24 } }`

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### User Flow

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏"
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–§–æ—Ç–æ" –∏–ª–∏ "–ì–∞–ª–µ—Ä–µ—è"
3. –í—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ç–æ –µ–¥—ã
4. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å YOLOv8 (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞)
   - Resize –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ 640x640
   - –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –ø–∏–∫—Å–µ–ª–∏ /255
   - –ü—Ä–æ–≥–æ–Ω—è–µ—Ç —á–µ—Ä–µ–∑ YOLOv8 –º–æ–¥–µ–ª—å
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç NMS –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   - –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤–µ—Å –ø–æ—Ä—Ü–∏–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É bbox
   - –ò—â–µ—Ç –ö–ë–ñ–£ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–ª–∞—Å—Å–∞
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
6. –ü–æ–ª—è —Ñ–æ—Ä–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é
8. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å

```
–§–æ—Ç–æ ‚Üí Preprocessing ‚Üí YOLOv8 ‚Üí Post-processing ‚Üí –û—Ü–µ–Ω–∫–∞ –≤–µ—Å–∞ ‚Üí –ö–ë–ñ–£ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç
```

1. **Preprocessing**
   ```javascript
   resize(640x640) ‚Üí normalize(/255) ‚Üí tensor3D
   ```

2. **Inference**
   ```javascript
   model.predict(tensor) ‚Üí [detections]
   ```

3. **Post-processing**
   ```javascript
   filter(confidence > 0.4) ‚Üí NMS(threshold 0.5) ‚Üí slice(max 10)
   ```

4. **–û—Ü–µ–Ω–∫–∞ –≤–µ—Å–∞**
   ```javascript
   bbox_area * MAX_WEIGHT_GRAMS ‚Üí estimated_weight_grams
   ```

5. **–ö–ë–ñ–£**
   ```javascript
   food_db[class_name] * (weight / 100) ‚Üí {calories, protein, fat, carbs}
   ```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```bash
@tensorflow/tfjs
@tensorflow/tfjs-react-native
expo-gl
expo-gl-cpp
expo-camera
expo-image-picker
expo-image-manipulator
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ YoloFoodService.js  # ‚úÖ –°–æ–∑–¥–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ CameraService.js    # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ DatabaseService.js  # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îî‚îÄ‚îÄ AddMealScreen.js    # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
‚îî‚îÄ‚îÄ assets/
    ‚îú‚îÄ‚îÄ models/
    ‚îÇ   ‚îî‚îÄ‚îÄ yolov8l-oiv7_food.tflite  # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
    ‚îî‚îÄ‚îÄ food_kbzu.json  # ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç (2-10 –ú–ë)
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:

```javascript
// –í AddMealScreen.js
React.useEffect(() => {
  YoloFoodService.loadModel();
}, []);
```

---

## üîÆ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (MVP)

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ **YoloFoodService** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - loadModel(), analyzeFood(), isModelLoaded(), unloadModel()
- ‚úÖ **Preprocessing** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (resize 640x640, normalize /255)
- ‚úÖ **Post-processing** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
  - Confidence threshold (>0.4)
  - Food-only —Ñ–∏–ª—å—Ç—Ä (78 –∫–ª–∞—Å—Å–æ–≤ –∏–∑ 601)
  - NMS (–ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –ö–ë–ñ–£** (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
  - –§—Ä—É–∫—Ç—ã, –æ–≤–æ—â–∏, –≥–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞, –≤—ã–ø–µ—á–∫–∞
  - –ú—è—Å–æ, —Ä—ã–±–∞, –º–æ–ª–æ—á–Ω—ã–µ, –Ω–∞–ø–∏—Ç–∫–∏, –¥–µ—Å–µ—Ä—Ç—ã
- ‚úÖ **–†—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è** (100+ –º–∞–ø–ø–∏–Ω–≥–æ–≤)
  - getRussianName() –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–û—Ü–µ–Ω–∫–∞ –≤–µ—Å–∞** –ø–æ—Ä—Ü–∏–∏ –ø–æ bbox
  - bbox_area √ó MAX_WEIGHT_GRAMS ‚Üí grams
- ‚úÖ **Fallback –º–µ—Ö–∞–Ω–∏–∑–º** –Ω–∞ AIService
- ‚úÖ **UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
  - –ö–Ω–æ–ø–∫–∏ "–§–æ—Ç–æ", "–ì–∞–ª–µ—Ä–µ—è", "–ê–Ω–∞–ª–∏–∑"
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
  - –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚ö†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MVP

- ‚ö†Ô∏è **Metro bundler –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å**
  
  **–ü—Ä–æ–±–ª–µ–º–∞:**
  - –ú–æ–¥–µ–ª—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 43 binary —Ñ–∞–π–ª–æ–≤ (~100 –ú–ë)
  - Metro –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `require()` –¥–ª—è —Ç–∞–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
  - `bundleResourceIO` —Ç–∞–∫–∂–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Expo managed workflow
  
  **–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ (MVP):**
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è mock inference –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - Fallback –Ω–∞ AIService –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  
  **Production —Ä–µ—à–µ–Ω–∏—è:**
  1. **Bare Workflow** - native TFLite (2-4 —á–∞—Å–∞)
  2. **FileSystem** - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (1-2 —á–∞—Å–∞)
  3. **CDN** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ (10 –º–∏–Ω—É—Ç, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ—Ñ–ª–∞–π–Ω)

- ‚ö†Ô∏è **Image decoding –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**
  
  **–ü—Ä–æ–±–ª–µ–º–∞:**
  - –ù—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å URI –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ–Ω–∑–æ—Ä [1, 640, 640, 3]
  - TensorFlow.js –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ decodeJpeg –¥–ª—è React Native
  
  **–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ (MVP):**
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è mock tensor (—Å–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
  
  **Production —Ä–µ—à–µ–Ω–∏—è:**
  1. `expo-gl` + GLView –¥–ª—è GPU processing
  2. `react-native-canvas` –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
  3. Native module –¥–ª—è image ‚Üí tensor conversion

- ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –±–∞–∑–∞ –ö–ë–ñ–£**
  
  **–ü—Ä–æ–±–ª–µ–º–∞:**
  - –§–∞–π–ª `food_kbzu.json` (~2-10 –ú–ë) –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ require()
  
  **–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ (MVP):**
  - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ —Å 50+ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
  
  **Production —Ä–µ—à–µ–Ω–∏–µ:**
  - `expo-file-system` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–æ–≥–æ JSON

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏)

- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏:** 2-5 —Å–µ–∫—É–Ω–¥ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ç–æ:** 1-3 —Å–µ–∫—É–Ω–¥—ã
- **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏:** ~50-100 –ú–ë (YOLOv8l)
- **–¢–æ—á–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏:** 70-85% (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞)
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–ª–∞—Å—Å—ã:** –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –º–æ–∂–Ω–æ:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å YOLOv8s (small) –≤–º–µ—Å—Ç–æ YOLOv8l (large)
2. –í–∫–ª—é—á–∏—Ç—å GPU acceleration —á–µ—Ä–µ–∑ expo-gl
3. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å quantization –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏

---

## üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ (–≤ YoloFoodService.js)

```javascript
const MODEL_INPUT_SIZE = 640;       // –†–∞–∑–º–µ—Ä –≤—Ö–æ–¥–∞ YOLOv8
const CONFIDENCE_THRESHOLD = 0.4;   // –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
const NMS_THRESHOLD = 0.5;          // –ü–æ—Ä–æ–≥ NMS
const MAX_DETECTIONS = 10;          // –ú–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–∫—Ü–∏–π
const MAX_WEIGHT_GRAMS = 600;       // –ú–∞–∫—Å. –≤–µ—Å –ø–æ—Ä—Ü–∏–∏
```

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã:
- –£–≤–µ–ª–∏—á–∏—Ç—å `CONFIDENCE_THRESHOLD` –¥–ª—è –±–æ–ª—å—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ (–º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π)
- –£–º–µ–Ω—å—à–∏—Ç—å `MAX_DETECTIONS` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- –ò–∑–º–µ–Ω–∏—Ç—å `MODEL_INPUT_SIZE` –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∞—è –≤–µ—Ä—Å–∏—è YOLO

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç —Å —Ñ–æ—Ç–æ –∏–∑ –∫–∞–º–µ—Ä—ã**
   - –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ –µ–¥—ã —Å –∫–∞–º–µ—Ä—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–¥–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ö–ë–ñ–£ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ

2. **–¢–µ—Å—Ç —Å —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏**
   - –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–µ—Å—Ç—É –∫–∞–º–µ—Ä—ã

3. **–¢–µ—Å—Ç –±–µ–∑ —Ñ–æ—Ç–æ (—Ç–æ–ª—å–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ)**
   - –í–≤–µ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ "–∫—É—Ä–∏—Ü–∞ —Å —Ä–∏—Å–æ–º"
   - –ù–∞–∂–∞—Ç—å "–ê–Ω–∞–ª–∏–∑"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å fallback —Ä–µ–∑—É–ª—å—Ç–∞—Ç

4. **–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏
   - –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–æ—Ç–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

5. **–¢–µ—Å—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏**
   - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å 10-20 —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ç–æ –µ–¥—ã
   - –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å (accuracy)

---

## üìù API Reference

### YoloFoodService

```javascript
// –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å (–≤—ã–∑—ã–≤–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)
await YoloFoodService.loadModel();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –ª–∏ –º–æ–¥–µ–ª—å
const isLoaded = YoloFoodService.isModelLoaded(); // boolean

// –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ç–æ –µ–¥—ã
const result = await YoloFoodService.analyzeFood(imageUri);
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
{
  items: [
    {
      name: string,          // –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
      ru_name: string,       // –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
      confidence: number,    // –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 0-1
      grams: number,         // –í–µ—Å –ø–æ—Ä—Ü–∏–∏ –≤ –≥—Ä–∞–º–º–∞—Ö
      calories: number,      // –ö–∞–ª–æ—Ä–∏–∏
      protein: number,       // –ë–µ–ª–∫–∏ (–≥)
      fat: number,           // –ñ–∏—Ä—ã (–≥)
      carbs: number,         // –£–≥–ª–µ–≤–æ–¥—ã (–≥)
    }
  ],
  total: {
    calories: number,
    protein: number,
    fat: number,
    carbs: number,
  },
  timestamp: string,        // ISO timestamp
}

// –í—ã–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –∏–∑ –ø–∞–º—è—Ç–∏ (–¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤)
await YoloFoodService.unloadModel();
```

---

## üöß TODO –¥–ª—è production

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å TFLite –º–æ–¥–µ–ª—å –≤ TF.js —Ñ–æ—Ä–º–∞—Ç
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π inference –≤–º–µ—Å—Ç–æ mock
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π NMS –∞–ª–≥–æ—Ä–∏—Ç–º
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (iOS + Android)
5. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

6. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
7. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
8. ‚è≥ –£–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –æ—Ü–µ–Ω–∫–∏ –≤–µ—Å–∞ –ø–æ—Ä—Ü–∏–∏
9. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É batch inference
10. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å expo-gl –¥–ª—è GPU —É—Å–∫–æ—Ä–µ–Ω–∏—è

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

11. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏
12. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fallback –Ω–∞ CPU –µ—Å–ª–∏ GPU –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
13. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö threshold –∑–Ω–∞—á–µ–Ω–∏–π
14. ‚è≥ –°–æ–∑–¥–∞—Ç—å dashboard –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
15. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [TensorFlow.js Documentation](https://www.tensorflow.org/js)
- [TensorFlow.js React Native](https://github.com/tensorflow/tfjs/tree/master/tfjs-react-native)
- [YOLOv8 Documentation](https://docs.ultralytics.com/)
- [Expo GL Documentation](https://docs.expo.dev/versions/latest/sdk/gl-view/)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- [TensorFlowJS Converter](https://github.com/tensorflow/tfjs/tree/master/tfjs-converter)
- [Netron](https://netron.app/) - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
- [ONNX Runtime](https://onnxruntime.ai/) - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ TF.js

### –ü—Ä–∏–º–µ—Ä—ã

- [TF.js Object Detection Example](https://github.com/tensorflow/tfjs-examples/tree/master/object-detection)
- [React Native TF.js Examples](https://github.com/tensorflow/tfjs-examples/tree/master/react-native)

---

## üí° –°–æ–≤–µ—Ç—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞–º—è—Ç–∏ –∏ CPU
3. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ pipeline
4. **–ö—ç—à–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª—å** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Web Workers** –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–î–µ–ª–∞–π—Ç–µ —Ñ–æ—Ç–æ –Ω–∞ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω–Ω–æ–º –º–µ—Å—Ç–µ**
2. **–†–∞—Å–ø–æ–ª–∞–≥–∞–π—Ç–µ –µ–¥—É –ø–æ —Ü–µ–Ω—Ç—Ä—É –∫–∞–¥—Ä–∞**
3. **–ò–∑–±–µ–≥–∞–π—Ç–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –∫–∞–¥—Ä–µ**
4. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
5. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ** –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ú–æ–¥–µ–ª—å TFLite —Ç—Ä–µ–±—É–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏**
   - **–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ
   - **Workaround:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è mock –¥–µ—Ç–µ–∫—Ü–∏—è
   - **ETA:** 1-2 –¥–Ω—è

2. **–û—Ü–µ–Ω–∫–∞ –≤–µ—Å–∞ –ø–æ—Ä—Ü–∏–∏ –Ω–µ –æ—á–µ–Ω—å —Ç–æ—á–Ω–∞—è**
   - **–°—Ç–∞—Ç—É—Å:** –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
   - **Workaround:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
   - **Plan:** –£–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å ML –ø–æ–¥—Ö–æ–¥–æ–º

3. **–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º —Ñ–æ—Ç–æ**
   - **–°—Ç–∞—Ç—É—Å:** –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
   - **Plan:** –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç –ø—Ä–æ–µ–∫—Ç–∞
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤—ã—à–µ

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 03.12.2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

